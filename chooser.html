<!doctype html>
<html>
	<head>
		<title>My Page</title>
		<meta charset="utf-8">
		<!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
		<!-- <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css"> -->
		<!-- // <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script> -->
		<!-- // <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script> -->
	
		<!-- // <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script> -->
		<script src="js/lib/c3-master/jquery.js" charset="utf-8"></script>
		<script src="js/lib/c3-master/d3.js" charset="utf-8"></script>
		<link href="css/c3.css" rel="stylesheet" type="text/css">
		<link href="css/chart.css" rel="stylesheet" type="text/css">
		<script src="js/lib/c3.js"></script>
		<script src="js/lib/masonry.pkgd.min.js"></script>
		<script src="v11n.js"></script>
		<!-- // <script  src="js/lib/pearson-correlation.js"></script> -->
		<!-- // <script  src="js/lib/simple_statistics.js"></script> -->
		<style type="text/css">
			::-webkit-scrollbar {
				width: 2em;
				height: 2em
			}
			::-webkit-scrollbar-button {
				background: #ccc
			}
			::-webkit-scrollbar-track-piece {
				background: #888
			}
			::-webkit-scrollbar-thumb {
				background: #D12A09
			}
			.tumbchart {
				/*width: 25%;
				height: 25%;
				float: left;
				margin: 4%;
				border-radius: 25px;*/
				overflow: hidden;
			}
			.item { height: 32vw; width: 32%; margin-bottom: 2vw;}

			@media screen and (min-width: 720px) {
			  .item { width: 30vw; height: 30vw; margin-bottom: 6vw;}
			}
		
			.gutter-sizer {width: 5vw;}	
		</style>
		<script type="text/javascript">
			function getUrlParameter(sParam)
			{
				var sPageURL = window.location.search.substring(1);
		
				var sURLVariables = sPageURL.split('&');
				for (var i = 0; i < sURLVariables.length; i++) {
					var sParameterName = sURLVariables[i].split('=');
					if (sParameterName[0] == sParam) {
				  		if(sParameterName[0]=="array"){
							return sParameterName[1].split('+')
				  		}
				  		return sParameterName[1];
					}
			  	}
			}
		
			var v;
			var container = "";
			$( document ).ready(function() {
				v = new visualizepolls();
				// v.flashChart("data/flashpoll",[1,2],"#chart1","heatmap");
				// v.flashChart("data/flashpoll",[0],"#chart2","pie");
			  	// v.dataHandler.setPollurl("http://opine-r.herokuapp.com/pollroute/exportpolljson/54622e58db392c02007e1e53");
				v.dataHandler.setPollurl("http://opine-r.herokuapp.com/pollroute/exportpolljson/54623381db392c02007e1e54");
				// v.dataHandler.setPollurl("data/winter.json");
				v.start(function(ref){
					// var options = {tooltip : false, legend : true, axis : true};
					// v.createGrid(ref,"#chart1",[0,1,2],options);
					// ref.visualizeChart (ref,[1,3],"heatmap",null,"#chart1");
					ref.visualizeChart (ref,[0,2],"heatmap",null,"#chart1");
					//    ref.visualizeChart (ref,[3,1],"stackedbar",null,"#chart3");
				});
		
				// var dh = new datahandler();
				// dh.setPollurl("data/winter.json");
		
				// var url = getUrlParameter('url');
				// var array = getUrlParameter('array');
		
				// maggio.visualizeSet(url, "#chart1",array,options,function(){
				// console.log("CALLBACK");
			});
			// $("#chart1").click(function(event){
			// console.log( $(event.target).closest('div')[0].id);
		
			// maggio.visualClick($(event.target).closest('div')[0].id,url);
			// });
			//     $(".norm").click(
			// function(){
			//    alert('button clicked');
			// });
			/*
			$(document).on('click',".norm", function(event) {
		
			  console.log("****NORMALIZING***");
			  var index = event.currentTarget.id.split("btnnorm").slice(-1)[0];
			  $("btnnorm"+index).prop("value" ,"unnormalize first");
			  index++;
			  transformer.normalizeRows("#charty" + index);
			});
			$(document).on('click',".swap",function(event) {
			  console.log("****SWAPPING*****");
			  var index = event.currentTarget.id.split("btnswap").slice(-1)[0];
			  index++;
			  transformer.swapcategories("#charty" + index);
			});
		*/
		  // });
		</script>
	</head>

	<body>
		<!-- <div id="chart1" class="js-masonry">  -->
		<div id="chart1" style="height : 300px;"></div>
		<!-- <div id="chart2" style="height : 400px; width : 50%;"></div> -->
		<!-- <div id="chart2">andra</div>
		<div id="chart3">andra</div> -->
		<div class="gutter-sizer" ></div>
	</body>
</html>
